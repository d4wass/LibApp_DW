@using Microsoft.AspNetCore.Identity
@model LibApp.Models.Customer

@{
    ViewBag.Title = Model.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@inject UserManager<IdentityUser> UserManager;

<h2>@Model.Name</h2>
<ul>
    <li>Membership Type: @Model.MembershipType.Name</li>
    @if (Model.Birthdate.HasValue)
    {
        <li>Birthdate: @Model.Birthdate.Value.ToShortDateString()</li>
    }
</ul>
@if (User.IsInRole("Administrator"))
{
    <button class="btn btn-primary" id="edit" data-customer-id="@Model.Id">Edit</button>
}



@section Scripts
{

    <script>
        $(document).ready(function () {
            const clickHandle = $("#edit").click(function (event) {
                const btn = $(this)  
                document.location.href = document.location.origin + "customers/edit/" + btn.attr("data-customer-id")
            })
        })
    </script>
}
